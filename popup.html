<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dark Mode Everytime V1</title>
  <link rel="stylesheet" href="styles/popup.css">
  <style>
    /* Inline styles for slider as requested initially to keep it simple, 
       but most styles are in popup.css */
  </style>
</head>

<body>
  <div class="container">
    <div class="header">
      <div class="title">Dark Mode</div>
      <div class="status">
        <span class="status-dot"></span>
        <span id="status-text">Active</span>
      </div>
    </div>

    <!-- Global Toggle -->
    <div class="toggle-container">
      <label class="switch">
        <input type="checkbox" id="dark-mode-toggle">
        <span class="slider round"></span>
      </label>
    </div>

    <!-- Site Toggle -->
    <div class="site-toggle-container" style="margin-top: 20px; border-top: 1px solid #333; padding-top: 15px;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
        <span style="font-size: 14px; color: #ccc;">Enabled for this site</span>
        <label class="switch" style="transform: scale(0.8);">
          <input type="checkbox" id="site-toggle">
          <span class="slider round"></span>
        </label>
      </div>
      <div id="site-domain" style="font-size: 12px; color: #666;"></div>
    </div>

    <!-- Warmth Slider -->
    <div class="warmth-container" style="margin-top: 15px; border-top: 1px solid #333; padding-top: 15px;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
        <span style="font-size: 14px; color: #ccc;">Warmth (Night Shift)</span>
        <span id="warmth-value" style="font-size: 12px; color: #a0a0a0;">0%</span>
      </div>
      <input type="range" id="warmth-slider" min="0" max="100" value="0" style="width: 100%;">
    </div>

    <!-- Automation Section -->
    <div class="automation-container"
      style="margin-top: 15px; border-top: 1px solid #333; padding-top: 15px; width: 100%;">
      <h2 style="font-size: 14px; color: #a0a0a0; margin-bottom: 5px;">Automation</h2>
      <select id="automation-mode"
        style="width: 100%; padding: 5px; background: #333; color: white; border: none; margin-bottom: 5px;">
        <option value="manual">Manual</option>
        <option value="system">System (OS)</option>
        <option value="scheduled">Scheduled</option>
      </select>

      <div id="schedule-inputs" style="display: none; flex-direction: column; gap: 5px;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
          <label style="font-size: 12px; color: #888;">Start</label>
          <input type="time" id="start-time" value="18:00"
            style="background: #333; color: white; border: none; padding: 2px;">
        </div>
        <div style="display: flex; justify-content: space-between; align-items: center;">
          <label style="font-size: 12px; color: #888;">End</label>
          <input type="time" id="end-time" value="06:00"
            style="background: #333; color: white; border: none; padding: 2px;">
        </div>
      </div>
    </div>

    <!-- Settings Backup/Restore -->
    <div class="settings-backup"
      style="margin-top: 15px; border-top: 1px solid #333; padding-top: 15px; width: 100%; display: flex; gap: 10px;">
      <button id="export-btn"
        style="flex: 1; padding: 5px; background: #333; color: white; border: none; cursor: pointer;">Export</button>
      <button id="import-btn-trigger"
        style="flex: 1; padding: 5px; background: #333; color: white; border: none; cursor: pointer;">Import</button>
      <input type="file" id="import-file" accept=".json" style="display: none;">
    </div>

    <!-- Error Message -->
    <p id="error-msg" class="error-message"></p>
  </div>
  <script src="src/popup.js"></script>
</body>

</html>